# CHRONOS Multi-Tenant Financial SaaS - Environment Variables
# Copy this file to .env and update the values for your environment

#------------------------------------------------------------------------------
# APPLICATION SETTINGS
#------------------------------------------------------------------------------
NODE_ENV=production
PORT=3001
APP_NAME="CHRONOS Financial"
APP_VERSION=1.0.0
APP_URL=https://your-domain.com
API_VERSION=v1

# Application secrets (CHANGE THESE IN PRODUCTION)
JWT_SECRET=your-super-secure-jwt-secret-min-32-characters
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
BCRYPT_ROUNDS=12

# Session configuration
SESSION_SECRET=your-super-secure-session-secret-min-32-characters
SESSION_MAX_AGE=86400000
COOKIE_DOMAIN=your-domain.com
COOKIE_SECURE=true

#------------------------------------------------------------------------------
# DATABASE CONFIGURATION
#------------------------------------------------------------------------------
# PostgreSQL connection string
DATABASE_URL=postgresql://chronos_user:your_postgres_password@postgres:5432/chronos_production

# Database pool settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_TIMEOUT=30000
DB_STATEMENT_TIMEOUT=60000

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

#------------------------------------------------------------------------------
# REDIS CONFIGURATION
#------------------------------------------------------------------------------
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0
REDIS_KEY_PREFIX=chronos:
REDIS_TTL_DEFAULT=3600

# Redis cluster settings (if using cluster)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=redis1:6379,redis2:6379,redis3:6379

#------------------------------------------------------------------------------
# EMAIL CONFIGURATION
#------------------------------------------------------------------------------
# Email service provider
EMAIL_PROVIDER=smtp
EMAIL_FROM=noreply@your-domain.com
EMAIL_FROM_NAME="CHRONOS Financial"

# SMTP settings
EMAIL_HOST=smtp.your-email-provider.com
EMAIL_PORT=587
EMAIL_SECURE=true
EMAIL_USER=your-email-username
EMAIL_PASSWORD=your-email-password

# Transactional email service (alternative to SMTP)
# Uncomment if using services like SendGrid, Mailgun, etc.
# SENDGRID_API_KEY=your_sendgrid_api_key
# MAILGUN_API_KEY=your_mailgun_api_key
# MAILGUN_DOMAIN=your_mailgun_domain

# Email templates
EMAIL_TEMPLATE_DIR=./templates/email

#------------------------------------------------------------------------------
# WHATSAPP INTEGRATION
#------------------------------------------------------------------------------
WHATSAPP_ENABLED=true
WHATSAPP_API_URL=https://graph.facebook.com/v17.0
WHATSAPP_API_TOKEN=your_whatsapp_business_api_token
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id
WHATSAPP_WEBHOOK_SECRET=your_whatsapp_webhook_secret
WHATSAPP_WEBHOOK_URL=https://your-domain.com/api/webhook/whatsapp

# WhatsApp Business verification
WHATSAPP_VERIFY_TOKEN=your_whatsapp_verify_token

#------------------------------------------------------------------------------
# FILE STORAGE
#------------------------------------------------------------------------------
STORAGE_PROVIDER=local
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Local storage
STORAGE_LOCAL_PATH=./uploads
STORAGE_LOCAL_URL=/uploads

# AWS S3 (if using cloud storage)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=chronos-uploads
AWS_S3_URL=https://chronos-uploads.s3.amazonaws.com

#------------------------------------------------------------------------------
# SECURITY SETTINGS
#------------------------------------------------------------------------------
# CORS configuration
CORS_ORIGIN=https://your-domain.com
CORS_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESS_REQUESTS=false

# API rate limiting (stricter for sensitive endpoints)
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX_REQUESTS=5

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=/api/csp-report

# Helmet.js security headers
SECURITY_HEADERS_ENABLED=true

#------------------------------------------------------------------------------
# MONITORING AND LOGGING
#------------------------------------------------------------------------------
# Logging configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/app.log
LOG_MAX_FILES=10
LOG_MAX_SIZE=10m

# Error tracking (Sentry)
SENTRY_DSN=your_sentry_dsn
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0
SENTRY_TRACE_SAMPLE_RATE=0.1

# Health checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000

# Metrics (Prometheus)
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

#------------------------------------------------------------------------------
# FEATURE FLAGS
#------------------------------------------------------------------------------
FEATURE_MULTI_TENANT=true
FEATURE_WHATSAPP_INTEGRATION=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_BUDGET_ALERTS=true
FEATURE_AUDIT_LOGGING=true
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_EXPORT_DATA=true
FEATURE_API_DOCUMENTATION=true

#------------------------------------------------------------------------------
# PAYMENT PROCESSING (if applicable)
#------------------------------------------------------------------------------
PAYMENT_PROVIDER=stripe
STRIPE_PUBLIC_KEY=pk_live_your_stripe_public_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# Alternative payment providers
# PAYPAL_CLIENT_ID=your_paypal_client_id
# PAYPAL_CLIENT_SECRET=your_paypal_client_secret

#------------------------------------------------------------------------------
# THIRD-PARTY INTEGRATIONS
#------------------------------------------------------------------------------
# Bank data aggregation (Plaid, Yodlee, etc.)
PLAID_CLIENT_ID=your_plaid_client_id
PLAID_SECRET=your_plaid_secret
PLAID_PUBLIC_KEY=your_plaid_public_key
PLAID_ENVIRONMENT=sandbox

# SMS notifications (Twilio)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Analytics (Google Analytics, Mixpanel, etc.)
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
MIXPANEL_TOKEN=your_mixpanel_token

#------------------------------------------------------------------------------
# DEVELOPMENT SETTINGS
#------------------------------------------------------------------------------
# These should only be used in development
DEBUG=false
DEBUG_SQL=false
SEED_DATABASE=false
RESET_DATABASE=false

# API documentation
API_DOCS_ENABLED=false
API_DOCS_PATH=/docs

#------------------------------------------------------------------------------
# CACHING CONFIGURATION
#------------------------------------------------------------------------------
CACHE_ENABLED=true
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# Cache keys
CACHE_KEY_USER_SESSION=user_session
CACHE_KEY_TENANT_CONFIG=tenant_config
CACHE_KEY_API_RESPONSE=api_response

#------------------------------------------------------------------------------
# BACKUP AND DISASTER RECOVERY
#------------------------------------------------------------------------------
BACKUP_STORAGE_PROVIDER=s3
BACKUP_S3_BUCKET=chronos-backups
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key
BACKUP_COMPRESSION=gzip

#------------------------------------------------------------------------------
# LOCALIZATION
#------------------------------------------------------------------------------
DEFAULT_LOCALE=en
DEFAULT_TIMEZONE=UTC
SUPPORTED_LOCALES=en,es,pt,fr
SUPPORTED_CURRENCIES=USD,EUR,GBP,BRL

#------------------------------------------------------------------------------
# PERFORMANCE TUNING
#------------------------------------------------------------------------------
# Database connection pooling
DB_POOL_ACQUIRE_TIMEOUT=60000
DB_POOL_CREATE_TIMEOUT=30000
DB_POOL_DESTROY_TIMEOUT=5000
DB_POOL_IDLE_TIMEOUT=10000
DB_POOL_REAP_INTERVAL=1000

# Memory limits
NODE_OPTIONS=--max-old-space-size=2048

#------------------------------------------------------------------------------
# FRONTEND CONFIGURATION (for build process)
#------------------------------------------------------------------------------
VITE_API_URL=https://your-domain.com/api
VITE_WS_URL=wss://your-domain.com/ws
VITE_APP_NAME="CHRONOS Financial"
VITE_APP_VERSION=1.0.0
VITE_SENTRY_DSN=your_frontend_sentry_dsn
VITE_GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX