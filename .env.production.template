# CHRONOS Financial - Production Environment Variables Template
# Copy this file to .env.production and fill in the values

# ===============================================
# DATABASE CONFIGURATION
# ===============================================
POSTGRES_DB=chronos_production
POSTGRES_USER=chronos_user
POSTGRES_PASSWORD=<STRONG_DATABASE_PASSWORD>
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_QUERY_TIMEOUT=60000

# ===============================================
# REDIS CONFIGURATION
# ===============================================
REDIS_PASSWORD=<STRONG_REDIS_PASSWORD>
REDIS_URL=redis://redis:6379
REDIS_DB=0
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000
REDIS_MAX_RETRIES_PER_REQUEST=3

# ===============================================
# AUTHENTICATION & SECURITY
# ===============================================
JWT_SECRET=<RANDOM_256_BIT_SECRET>
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
BCRYPT_ROUNDS=12

# Session configuration
SESSION_SECRET=<RANDOM_256_BIT_SECRET>
SESSION_MAX_AGE=86400000
SESSION_SECURE=true
SESSION_SAME_SITE=strict

# CORS configuration
CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com
CORS_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ===============================================
# APPLICATION CONFIGURATION
# ===============================================
NODE_ENV=production
LOG_LEVEL=info
PORT=3001

# Application metadata
APP_NAME=CHRONOS Financial
APP_VERSION=1.0.0
APP_DESCRIPTION=Multi-tenant Financial Management Platform

# ===============================================
# FRONTEND CONFIGURATION
# ===============================================
NEXT_PUBLIC_API_URL=https://api.your-domain.com
NEXT_PUBLIC_WS_URL=wss://api.your-domain.com
NEXT_PUBLIC_APP_NAME=CHRONOS
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_TELEMETRY_DISABLED=1

# ===============================================
# SSL/TLS CONFIGURATION
# ===============================================
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/private.key
SSL_CHAIN_PATH=/etc/nginx/ssl/chain.pem
SSL_DHPARAM_PATH=/etc/nginx/ssl/dhparam.pem

# Let's Encrypt configuration
LETSENCRYPT_EMAIL=admin@your-domain.com
LETSENCRYPT_DOMAINS=your-domain.com,www.your-domain.com,api.your-domain.com

# ===============================================
# MONITORING & OBSERVABILITY
# ===============================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=<STRONG_GRAFANA_PASSWORD>

# Prometheus configuration
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_DAYS=30

# Application monitoring
SENTRY_DSN=<SENTRY_DSN_IF_USING>
NEW_RELIC_LICENSE_KEY=<NEW_RELIC_KEY_IF_USING>
DATADOG_API_KEY=<DATADOG_KEY_IF_USING>

# ===============================================
# EMAIL CONFIGURATION
# ===============================================
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=your-smtp-username
SMTP_PASSWORD=<SMTP_PASSWORD>
SMTP_FROM_EMAIL=noreply@your-domain.com
SMTP_FROM_NAME=CHRONOS Financial

# ===============================================
# THIRD-PARTY INTEGRATIONS
# ===============================================
# Stripe (if using payment processing)
STRIPE_PUBLIC_KEY=pk_live_...
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Supabase (if using)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=<SUPABASE_ANON_KEY>
SUPABASE_SERVICE_ROLE_KEY=<SUPABASE_SERVICE_KEY>

# ===============================================
# BACKUP CONFIGURATION
# ===============================================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPT=true
BACKUP_ENCRYPTION_KEY=<BACKUP_ENCRYPTION_KEY>

# S3 backup configuration
S3_BACKUP_BUCKET=chronos-backups-prod
AWS_ACCESS_KEY_ID=<AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<AWS_SECRET_KEY>
AWS_REGION=us-east-1

# ===============================================
# PERFORMANCE & OPTIMIZATION
# ===============================================
# Node.js optimization
NODE_OPTIONS=--max-old-space-size=1024
UV_THREADPOOL_SIZE=4

# Image optimization
NEXT_IMAGES_DOMAIN=your-domain.com
NEXT_IMAGES_LOADER=default

# CDN configuration
CDN_URL=https://cdn.your-domain.com
STATIC_ASSETS_URL=https://static.your-domain.com

# ===============================================
# FEATURE FLAGS
# ===============================================
FEATURE_MULTI_TENANT=true
FEATURE_REAL_TIME_UPDATES=true
FEATURE_ANALYTICS=true
FEATURE_ADVANCED_REPORTING=true
FEATURE_API_VERSIONING=true

# ===============================================
# SECURITY HEADERS
# ===============================================
CSP_SCRIPT_SRC='self' 'unsafe-eval' 'unsafe-inline' cdn.your-domain.com
CSP_STYLE_SRC='self' 'unsafe-inline' fonts.googleapis.com
CSP_FONT_SRC='self' fonts.gstatic.com
CSP_IMG_SRC='self' data: https: cdn.your-domain.com
CSP_CONNECT_SRC='self' api.your-domain.com wss://api.your-domain.com

# ===============================================
# DEPLOYMENT CONFIGURATION
# ===============================================
DEPLOY_ENVIRONMENT=production
DEPLOY_VERSION=1.0.0
DEPLOY_TIMESTAMP=<DEPLOYMENT_TIMESTAMP>
DEPLOY_COMMIT_SHA=<GIT_COMMIT_SHA>

# Health check configuration
HEALTH_CHECK_TIMEOUT=30000
HEALTH_CHECK_INTERVAL=30000

# ===============================================
# LOGGING CONFIGURATION
# ===============================================
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_COLORIZE=false
LOG_FILE_PATH=/app/logs/application.log
LOG_ERROR_FILE_PATH=/app/logs/error.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# ===============================================
# MULTI-TENANCY CONFIGURATION
# ===============================================
DEFAULT_TENANT_LIMITS_USERS=100
DEFAULT_TENANT_LIMITS_TRANSACTIONS=10000
DEFAULT_TENANT_LIMITS_ACCOUNTS=50
DEFAULT_TENANT_LIMITS_STORAGE_MB=1024

# Tenant isolation
TENANT_ISOLATION_STRICT=true
TENANT_DATA_ENCRYPTION=true

# ===============================================
# MAINTENANCE MODE
# ===============================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1

# ===============================================
# TIMEZONE & LOCALIZATION
# ===============================================
TZ=UTC
DEFAULT_LOCALE=en-US
SUPPORTED_LOCALES=en-US,es-ES,fr-FR,de-DE,pt-BR

# ===============================================
# WEBHOOKS & EXTERNAL APIS
# ===============================================
WEBHOOK_SECRET=<WEBHOOK_SECRET>
WEBHOOK_TIMEOUT=30000
WEBHOOK_MAX_RETRIES=3

# External API rate limits
EXTERNAL_API_RATE_LIMIT=1000
EXTERNAL_API_BURST_LIMIT=100

# ===============================================
# DEVELOPMENT/DEBUG (should be false in production)
# ===============================================
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_CORS_DEBUG=false
ENABLE_SQL_LOGGING=false