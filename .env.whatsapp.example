# WhatsApp Integration Environment Variables
# Copy these to your .env file and fill in the values

# ==============================================
# TWILIO CONFIGURATION
# ==============================================
# Your Twilio Account SID (starts with AC)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Your Twilio Auth Token
TWILIO_AUTH_TOKEN=your_auth_token_here

# Twilio WhatsApp phone number (sandbox or approved number)
# Sandbox number: +14155238886
# Production: Your approved WhatsApp Business number
TWILIO_WHATSAPP_NUMBER=+14155238886

# ==============================================
# OPENAI CONFIGURATION
# ==============================================
# OpenAI API key for natural language processing
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ==============================================
# WHATSAPP INTEGRATION SETTINGS
# ==============================================
# Skip webhook verification (DEVELOPMENT ONLY!)
# Set to true only for local development and testing
SKIP_WEBHOOK_VERIFICATION=false

# Frontend URL for verification links and user registration
FRONTEND_URL=https://your-app.com

# Webhook base URL (where Twilio will send messages)
# This should be your publicly accessible domain
WEBHOOK_BASE_URL=https://your-api-domain.com

# ==============================================
# EXISTING CONFIGURATION (Keep these)
# ==============================================
# Database
DATABASE_URL=postgresql://username:password@localhost:5432/chronos_dev

# Redis
REDIS_URL=redis://localhost:6379

# JWT
JWT_SECRET=your-super-secret-jwt-key
JWT_EXPIRES_IN=24h

# SMTP (for email notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Server
PORT=3001
HOST=0.0.0.0
NODE_ENV=development

# ==============================================
# SETUP INSTRUCTIONS
# ==============================================

# 1. TWILIO SETUP:
#    - Create account at https://www.twilio.com
#    - Go to Console Dashboard to get Account SID and Auth Token
#    - For testing: Use WhatsApp Sandbox (+14155238886)
#    - For production: Apply for WhatsApp Business API
#    - Configure webhook URL: https://your-domain.com/api/whatsapp/webhook

# 2. OPENAI SETUP:
#    - Create account at https://openai.com
#    - Generate API key in the API section
#    - Set usage limits to control costs
#    - GPT-3.5-turbo recommended for cost-effectiveness

# 3. WEBHOOK CONFIGURATION:
#    - Ensure your server is publicly accessible
#    - Use ngrok for local development: ngrok http 3001
#    - Set webhook URL in Twilio console
#    - Webhook must respond within 10 seconds

# 4. VERIFICATION:
#    - Test webhook with Twilio console
#    - Send test message to WhatsApp number
#    - Check server logs for incoming webhooks

# ==============================================
# COST ESTIMATES
# ==============================================
# Twilio WhatsApp: ~$0.005 per message
# OpenAI GPT-3.5: ~$0.002 per 1K tokens
# Average cost per user interaction: ~$0.01-0.02

# ==============================================
# SECURITY NOTES
# ==============================================
# - Never commit real credentials to version control
# - Use HTTPS in production
# - Enable webhook signature verification
# - Implement proper rate limiting
# - Monitor usage and costs regularly

# ==============================================
# TESTING CONFIGURATION
# ==============================================
# For local testing, you can use these test values:
# TWILIO_ACCOUNT_SID=test_account_sid
# TWILIO_AUTH_TOKEN=test_auth_token
# TWILIO_WHATSAPP_NUMBER=+15551234567
# OPENAI_API_KEY=test_openai_key
# SKIP_WEBHOOK_VERIFICATION=true